:root {
    --cor-fundo: #eef2f7;
    --cor-card: #ffffff;
    --cor-principal: #0d47a1;
    --cor-texto: #333;
    --cor-verde: #2e7d32;
    --cor-vermelho: #c62828;
    --cor-amarelo: #ffb300;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--cor-fundo);
    color: var(--cor-texto);
    transition: background-color 0.5s, color 0.5s;
}

header {
    background-color: var(--cor-principal);
    color: white;
    padding: 25px 20px;
    text-align: center;
}

.logo-header {
    display: block;
    margin: 0 auto 10px auto;
    max-width: 150px;
    height: auto;
}

header h1 {
    margin: 0 0 10px;
}

header p {
    margin: 0 0 10px;
    font-size: 1em;
}

.btn-dark {
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    background-color: white;
    color: var(--cor-principal);
    cursor: pointer;
    margin-top: 10px;
    font-weight: bold;
}

header .menu-fixo {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    padding-top: 10px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

header .menu-fixo a {
    color: white;
    text-decoration: none;
    font-weight: bold;
    transition: color 0.3s;
    display: flex;
    align-items: center;
    gap: 5px;
}

header .menu-fixo a:hover {
    color: #ffeb3b;
}

main {
    padding: 20px;
    max-width: 1300px;
    margin: 20px auto;
}

/* KPIs */
.kpis-area {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 40px;
}

.kpi-card {
    background: var(--cor-card);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    flex: 1 1 250px;
    text-align: center;
    border-bottom: 5px solid var(--cor-principal);
    transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
}

.kpi-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

.kpi-card h3 {
    color: var(--cor-principal);
    font-size: 1.1em;
}

.kpi-valor {
    font-size: 2.2em;
    font-weight: 700;
    color: var(--cor-verde);
    margin: 5px 0 10px;
    transition: color 0.3s;
}

/* CORES DINÂMICAS PARA KPIS (Status) */
.kpi-card[data-status="otimo"] {
    border-color: var(--cor-verde);
}
.kpi-card[data-status="otimo"] .kpi-valor {
    color: var(--cor-verde);
}

.kpi-card[data-status="atencao"] {
    border-color: var(--cor-amarelo);
}
.kpi-card[data-status="atencao"] .kpi-valor {
    color: var(--cor-amarelo);
}

.kpi-card[data-status="critico"] {
    border-color: var(--cor-vermelho);
}
.kpi-card[data-status="critico"] .kpi-valor {
    color: var(--cor-vermelho);
}

/* Estilos para a Tendência nos KPIs */
.kpi-meta {
    font-size: 0.9em;
    color: #666;
    display: block; 
    margin-top: 5px;
}

/* Estilo para setas de tendência */
.kpi-meta[data-tendencia="up"]::before {
    content: "\f062"; /* Ícone de seta para cima (Font Awesome) */
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    color: var(--cor-verde);
    margin-right: 5px;
}

.kpi-meta[data-tendencia="down"]::before {
    content: "\f063"; /* Ícone de seta para baixo (Font Awesome) */
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    color: var(--cor-vermelho);
    margin-right: 5px;
}

.kpi-meta[data-tendencia="neutral"]::before {
    content: "\f111"; /* Ícone de círculo (Font Awesome) */
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    color: #999;
    font-size: 0.7em;
    margin-right: 5px;
}

/* Estilos para a Seção de Metodologia */
.metodologia-area {
    margin-top: 50px;
    padding: 20px;
    background-color: var(--cor-card);
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
}

.metodologia-area h2 {
    color: var(--cor-principal);
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.metodologia-conteudo ul {
    list-style: none;
    padding-left: 0;
}

.metodologia-conteudo ul li {
    background: #f4f7fa;
    margin-bottom: 8px;
    padding: 10px;
    border-radius: 5px;
}

.fonte-aviso {
    margin-top: 20px;
    font-size: 0.9em;
    color: #666;
    border-left: 3px solid var(--cor-amarelo);
    padding-left: 10px;
}

/* Análise dos eixos */
.analise-eixos h2 {
    border-bottom: 2px solid #ccc;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.filtros {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}

.btn-eixo {
    padding: 10px 20px;
    border: 1px solid var(--cor-principal);
    background-color: white;
    color: var(--cor-principal);
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
    font-weight: bold;
}

.btn-eixo:hover {
    background-color: #e3f2fd;
}

.btn-ativo {
    background-color: var(--cor-principal);
    color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.detalhe-painel {
    background-color: #f8f8f8;
    padding: 20px;
    border-radius: 8px;
    min-height: 200px;
    border-left: 5px solid var(--cor-principal);
}

/* Barra de Progresso do Eixo */
.progresso-eixo {
    margin: 15px 0;
}
.barra-principal-progresso {
    height: 25px;
    line-height: 25px;
    text-align: right;
    padding-right: 10px;
    border-radius: 5px;
    color: white;
    font-weight: bold;
    transition: width 0.5s;
    min-width: 25px; 
    /* Melhoria de Contraste para o texto */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); 
}

/* Seção de FAQ/Glossário */
.faq-area {
    margin-top: 50px;
    padding-top: 15px;
    border-top: 1px solid #ddd;
}
.faq-conteudo {
    background-color: var(--cor-card);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}
.faq-item {
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px dashed #eee;
}
.faq-item h4 {
    color: var(--cor-principal);
    cursor: pointer;
}
.faq-item p {
    font-size: 0.95em;
    color: #555;
}

/* Gráficos */
.graficos-area {
    margin-top: 50px;
    display: flex;
    flex-direction: column;
    align-items: center; 
}

.graficos-area canvas {
    margin-bottom: 30px;
    background-color: var(--cor-card);
    border-radius: 12px;
    padding: 15px;
    max-width: 600px; 
    width: 100%; 
}

/* Relatórios */
.relatorios-area {
    margin-top: 50px;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.relatorio-card {
    background-color: var(--cor-card);
    padding: 15px;
    border-radius: 10px;
    flex: 1 1 250px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s;
}
.relatorio-card:hover {
    transform: translateY(-2px);
}

.btn-relatorio {
    padding: 8px 12px;
    background-color: var(--cor-principal);
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.btn-relatorio:hover {
    background-color: #1565c0;
}

/* Alerta */
.alerta-resistencia {
    margin-top: 40px;
}

.alerta-box {
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 2px solid;
    transition: all 0.5s;
}

/* Botão de Detalhe do Alerta */
#btn-detalhe-alerta {
    padding: 8px 12px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, color 0.3s;
}

/* Estilo para o botão em Risco ALTO (Vermelho) */
#alerta-box-info.risco-alto {
    background-color: #ffebee;
    color: var(--cor-vermelho);
    border-color: var(--cor-vermelho);
}
#alerta-box-info.risco-alto i.fa-bell {
    margin-right: 10px;
    animation: pulse 1.5s infinite;
}
#alerta-box-info.risco-alto #btn-detalhe-alerta {
    background-color: var(--cor-vermelho);
    color: white;
}
#alerta-box-info.risco-alto #btn-detalhe-alerta:hover {
    background-color: #a01f1f;
}

/* Estilo para o botão em Risco BAIXO (Verde/Principal) */
#alerta-box-info.risco-baixo {
    background-color: #e8f5e9;
    color: var(--cor-verde);
    border-color: var(--cor-verde);
}
#alerta-box-info.risco-baixo #btn-detalhe-alerta {
    background-color: var(--cor-principal); 
    color: white;
}
#alerta-box-info.risco-baixo #btn-detalhe-alerta:hover {
    background-color: #1565c0;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); color: var(--cor-vermelho); }
    100% { transform: scale(1); }
}

/* Footer */
footer {
    text-align: center;
    padding: 15px;
    margin-top: 30px;
    background-color: #ddd;
    font-size: 0.85em;
    color: #555;
}

/* ======================================================= */
/* REGRAS DE ACESSIBILIDADE - FOCO DO TECLADO               */
/* ======================================================= */

/* Garante que todos os elementos interativos tenham um foco visível ao navegar por teclado */
button:focus,
a:focus,
.kpi-card:focus {
    outline: 3px solid #ffeb3b; /* Amarelo brilhante para alto contraste */
    outline-offset: 2px; /* Espaço entre o elemento e o foco */
    border-radius: 5px;
}

/* Garante que o outline não afete a cor do texto no Dark Mode */
body.dark-mode button:focus,
body.dark-mode a:focus {
    outline: 3px solid #ffeb3b; 
}


/* ======================================================= */
/* ADAPTAÇÃO MOBILE E TABLET (RESPONSIVIDADE)               */
/* ======================================================= */

/* 1. Mobile (Telas até 768px) - Prioriza o empilhamento vertical */
@media (max-width: 768px) {
    
    /* Corpo e Margens */
    main {
        padding: 10px; /* Reduz o padding lateral */
    }
    
    /* Menu Fixo (Header) */
    header .menu-fixo {
        flex-direction: column; /* Menu vertical para economizar espaço */
        gap: 5px;
        padding: 5px;
    }
    header .menu-fixo a {
        padding: 5px 0;
        justify-content: center;
        font-size: 0.9em;
    }

    /* KPIs (Cards) */
    .kpis-area {
        flex-direction: column; /* Empilha os cards verticalmente */
        gap: 15px; /* Ajusta o espaçamento */
    }
    .kpi-card {
        flex: 1 1 100%; /* Ocupa a largura total */
        padding: 15px; /* Reduz o padding interno */
    }

    /* Análise dos Eixos (Filtros) */
    .filtros {
        flex-direction: column; /* Empilha os botões de filtro */
    }
    .btn-eixo {
        width: 100%; /* Faz os botões ocuparem a largura total */
    }
    
    /* Alertas */
    .alerta-box {
        flex-direction: column; /* Empilha a mensagem e o botão de alerta */
        align-items: center;
        text-align: center;
        padding: 15px;
    }
    #btn-detalhe-alerta {
        margin-top: 10px;
    }

    /* Relatórios */
    .relatorios-area {
        flex-direction: column; /* Empilha os relatórios */
        gap: 10px;
    }
    .relatorio-card {
        flex: 1 1 100%;
    }
}

/* 2. Tablet (Telas de 769px até 1024px) - Layout de duas colunas */
@media (min-width: 769px) and (max-width: 1024px) {
    
    /* Menu Fixo (Header) */
    header .menu-fixo {
        gap: 10px; 
        padding: 10px 0;
    }
    header .menu-fixo a {
        font-size: 0.95em;
    }

    /* KPIs (Cards) */
    .kpis-area {
        gap: 15px; 
        justify-content: space-around;
    }
    .kpi-card {
        flex: 1 1 280px; 
    }
    
    /* Análise dos Eixos (Filtros) */
    .filtros {
        justify-content: space-between;
    }
    .btn-eixo {
        flex: 1 1 48%; 
    }
}


/* Dark Mode */
body.dark-mode {
    --cor-fundo: #1e1e2f;
    --cor-card: #2c2c3c;
    --cor-principal: #0d47a1;
    --cor-texto: #f5f5f5;
    --cor-amarelo: #ffc107;
}

body.dark-mode .kpi-meta {
    color: #bbb;
}
body.dark-mode .detalhe-painel, 
body.dark-mode .faq-conteudo,
body.dark-mode .metodologia-area,
body.dark-mode .metodologia-conteudo ul li {
    background-color: #38384d;
}
body.dark-mode .faq-item p {
    color: #ccc;
}
body.dark-mode .metodologia-area h2 {
    border-bottom-color: #555;
}